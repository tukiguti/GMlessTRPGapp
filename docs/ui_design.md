# GMレスLoL風TRPG - UI設計ドキュメント

## 目次
1. [全体レイアウト](#全体レイアウト)
2. [マップビュー](#マップビュー)
3. [行動選択パネル](#行動選択パネル)
4. [アイテムショップ](#アイテムショップ)
5. [ゲーム前画面](#ゲーム前画面)
6. [インゲームUI](#インゲームui)

---

## 全体レイアウト

### デスクトップレイアウト（1920x1080想定）

```
┌─────────────────────────────────────────────────────────────┐
│ ヘッダー: GMレスLoL風TRPG | ラウンド 15 | 宣言フェーズ 45秒 │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  ┌──────────────────────┐  ┌──────────────────────────┐    │
│  │                      │  │                          │    │
│  │   マップビュー        │  │    戦闘ログ/イベント      │    │
│  │   (SVG 800x800)      │  │    (スクロール可能)       │    │
│  │                      │  │                          │    │
│  │  ・クリック可能エリア │  │  [15:23] キル発生!       │    │
│  │  ・キャラクター位置   │  │  [15:20] タワー破壊      │    │
│  │  ・タワー状態         │  │  [15:15] ドラゴン撃破    │    │
│  │  ・オブジェクト       │  │  ...                     │    │
│  │                      │  │                          │    │
│  └──────────────────────┘  └──────────────────────────┘    │
│                                                             │
├─────────────────────────────────────────────────────────────┤
│                    キャラクター情報エリア                    │
│  ┌──────────┐ ┌──────────┐ ┌──────────┐ ┌──────────┐      │
│  │ブルー1   │ │ブルー2   │ │ブルー3   │ │ブルー4   │  ... │
│  │Lv 8      │ │Lv 7      │ │Lv 9      │ │Lv 6      │      │
│  │HP: ████░ │ │HP: ███░░ │ │HP: █████ │ │HP: ██░░░ │      │
│  │500G      │ │320G      │ │780G      │ │210G      │      │
│  └──────────┘ └──────────┘ └──────────┘ └──────────┘      │
│                                                             │
│  ┌──────────┐ ┌──────────┐ ┌──────────┐ ┌──────────┐      │
│  │レッド1   │ │レッド2   │ │レッド3   │ │レッド4   │  ... │
│  │Lv 8      │ │Lv 7      │ │Lv 9      │ │Lv 6      │      │
│  │HP: ████░ │ │HP: ███░░ │ │HP: █████ │ │HP: ██░░░ │      │
│  │450G      │ │380G      │ │820G      │ │150G      │      │
│  └──────────┘ └──────────┘ └──────────┘ └──────────┘      │
├─────────────────────────────────────────────────────────────┤
│                    行動選択パネル                            │
│  あなたのキャラクター: [キャラ1選択中 ▼]                     │
│  ┌────────┐ ┌────────┐ ┌────────┐ ┌────────┐ ┌────────┐  │
│  │  攻撃  │ │ファーム│ │  移動  │ │スキル  │ │リコール│  │
│  └────────┘ └────────┘ └────────┘ └────────┘ └────────┘  │
│  → ターゲット: [敵キャラ選択] または [移動先エリア選択]      │
│                                      [行動を確定] ボタン     │
└─────────────────────────────────────────────────────────────┘
```

---

## マップビュー

### 特徴
- **SVGベース**: スケーラブル、クリック可能
- **LoL風デザイン**: 対角線配置（ブルー左下、レッド右上）
- **リアルタイム更新**: キャラクター位置、タワー状態が即座に反映

### エリア表示

#### レーン（3本）
- **TOPレーン**: 左上から右上へ斜めのパス
- **MIDレーン**: 左下から右上へ対角線
- **BOTレーン**: 左下から右下へのパス

#### ジャングルエリア（4エリア）
- **ブルー側 TOP-MID森**: 🔴赤バフアイコン
- **ブルー側 MID-BOT森**: 🔵青バフアイコン
- **レッド側 TOP-MID森**: 🔵青バフアイコン
- **レッド側 MID-BOT森**: 🔴赤バフアイコン

#### 中立エリア（2エリア）
- **バロンピット**: 🦀 バロン/ヘラルドアイコン
- **ドラゴンピット**: 🐉 ドラゴンアイコン

### インタラクション

#### クリック可能な要素
1. **エリア**: クリックで移動先として選択
2. **敵キャラクター**: クリックで攻撃ターゲットとして選択
3. **オブジェクト**: クリックでオブジェクト攻撃を選択

#### 視覚的フィードバック
- **選択中のエリア**: 黄色のハイライト
- **移動可能エリア**: 緑色の縁取り
- **視界範囲**: 半透明の円で表示
- **敵の視界外**: 霧（Fog of War）で隠す

### マップ座標系

```
(0, 0)                    (800, 0)
  ┌──────────────────────────┐
  │   レッド陣地              │
  │       ネクサス 🔴         │
  │          ▲               │
  │     レーンタワー           │
  │                           │
  │    ジャングル  🔵🔴        │
  │                           │
  │ ～～～～ リバー ～～～～～  │ (中央)
  │                           │
  │    ジャングル  🔴🔵        │
  │                           │
  │     レーンタワー           │
  │          ▼               │
  │       ネクサス 🔵         │
  │   ブルー陣地              │
  └──────────────────────────┘
(0, 800)                (800, 800)
```

---

## 行動選択パネル

### 宣言フェーズ時に表示

```
┌─────────────────────────────────────────────┐
│ あなたのキャラクター: [キャラ1 ▼]           │
│                                             │
│  現在地: BOTレーン | HP: 450/600 | Gold: 320G│
│                                             │
│  ┌──────────────────────────────────────┐  │
│  │  行動を選択してください (残り 45秒)   │  │
│  └──────────────────────────────────────┘  │
│                                             │
│  ┌────────┐ ┌────────┐ ┌────────┐         │
│  │  攻撃  │ │ファーム│ │  移動  │ ...     │
│  │  ⚔️   │ │  💰    │ │  🚶   │         │
│  └────────┘ └────────┘ └────────┘         │
│  ┌────────┐ ┌────────┐                    │
│  │ スキル │ │リコール│                     │
│  │  ✨   │ │  🏠   │                     │
│  └────────┘ └────────┘                    │
│                                             │
│  ─────────── 詳細設定 ───────────          │
│                                             │
│  [攻撃が選択された場合]                     │
│  ターゲット: [ レッド1 (MID) ▼ ]            │
│  スキル使用: [ 通常攻撃 / ノーマルスキル]    │
│                                             │
│  [移動が選択された場合]                     │
│  移動先: [ MIDレーン ▼ ]                    │
│                                             │
│  ┌──────────────────┐                      │
│  │  行動を確定する  │                      │
│  └──────────────────┘                      │
└─────────────────────────────────────────────┘
```

### 行動ボタンの詳細

#### 1. 攻撃ボタン
- **条件**: ターゲットが視界内にいる
- **追加選択**:
  - ターゲット選択（敵キャラクター一覧）
  - スキル選択（通常攻撃 / ノーマルスキル / ウルト）
- **視覚的表示**: ターゲットがマップ上でハイライト

#### 2. ファームボタン
- **条件**: レーンエリアまたはジャングルエリアにいる
- **自動処理**: ミニオンまたはジャングルモンスターを倒してゴールド獲得
- **リスク表示**: 「敵が近くにいます！」警告

#### 3. 移動ボタン
- **追加選択**: 移動先エリア（隣接エリアのみ）
- **マップ連動**: クリック可能なエリアが緑色にハイライト
- **移動制限**: 隣接エリアのみ移動可能を明示

#### 4. スキルボタン
- **スキル一覧**:
  - ノーマルスキル（クールダウン表示）
  - ウルト（クールダウン表示）
- **クールダウン**: 「あと 3ラウンド」と表示
- **使用不可**: グレーアウト

#### 5. リコールボタン
- **条件**: 敵が視界内にいない
- **リスク**: 「リコール中に攻撃されると中断されます」
- **所要時間**: 1ラウンド（10秒）

---

## アイテムショップ

### 表示タイミング
- **ゲーム開始時** (ラウンド0)
- **リコール成功後**
- **任意のタイミング**（ショップボタンで開く、購入はリコール後のみ）

### レイアウト

```
┌────────────────────────────────────────────────────┐
│          アイテムショップ                           │
│  所持金: 850G                         [✕ 閉じる]   │
├────────────────────────────────────────────────────┤
│  カテゴリ:                                          │
│  [すべて] [AD] [AP] [タンク] [サポート] [コンポ]   │
├──────────────────────┬─────────────────────────────┤
│                      │                             │
│  アイテムリスト       │   アイテム詳細              │
│                      │                             │
│  🔹 ロングソード      │  ┌──────────────────────┐  │
│     攻撃力+1.0       │  │  ロングソード         │  │
│     350G    [購入]   │  │  Tier: 基本アイテム   │  │
│                      │  ├──────────────────────┤  │
│  🔹 クロースアーマー  │  │  ステータス:         │  │
│     防御力+1.5       │  │  ・攻撃力 +1.0       │  │
│     300G    [購入]   │  ├──────────────────────┤  │
│                      │  │  価格: 350G          │  │
│  ⚡ インフィニティ...│  ├──────────────────────┤  │
│     攻撃力+4.0       │  │  説明:               │  │
│     3400G   [購入]   │  │  基本的な攻撃力アイテ │  │
│                      │  │  ム。上位アイテムの素 │  │
│  🛡️ プレートメイル   │  │  材として使用できます │  │
│     防御力+4.0       │  └──────────────────────┘  │
│     2800G   [購入]   │                             │
│                      │  ┌──────────────────────┐  │
│  ...                 │  │  合成レシピ:         │  │
│                      │  │  [ロングソード] +     │  │
│                      │  │  [ロングソード] +     │  │
│                      │  │  700G                │  │
│                      │  │  = [ストームレイザー] │  │
│                      │  └──────────────────────┘  │
│                      │                             │
│                      │  [アイテムを購入する]       │
└──────────────────────┴─────────────────────────────┘
```

### 機能

#### フィルター
- **すべて**: 全アイテム表示
- **AD**: 物理攻撃アイテム
- **AP**: 魔法攻撃アイテム
- **タンク**: 防御アイテム
- **サポート**: ユーティリティアイテム
- **コンポ**: 基本アイテム（コンポーネント）のみ

#### ソート
- **価格順**（安い順/高い順）
- **攻撃力順**
- **防御力順**

#### 購入制限
- **所持金チェック**: ゴールドが足りない場合は購入不可（グレーアウト）
- **アイテムスロット**: 最大6個まで
- **自動合成**: 素材アイテムを持っている場合、上位アイテム購入時に自動合成

---

## ゲーム前画面

### 1. メインメニュー

```
┌────────────────────────────────────┐
│                                    │
│      GMレスLoL風TRPG               │
│                                    │
│   ┌──────────────────────────┐    │
│   │  チュートリアル           │    │
│   └──────────────────────────┘    │
│                                    │
│   ┌──────────────────────────┐    │
│   │  CPU練習モード            │    │
│   └──────────────────────────┘    │
│                                    │
│   ┌──────────────────────────┐    │
│   │  カジュアルマッチ         │    │
│   └──────────────────────────┘    │
│                                    │
│   ┌──────────────────────────┐    │
│   │  ランクマッチ (1vs1)      │    │
│   └──────────────────────────┘    │
│                                    │
│   ┌──────────────────────────┐    │
│   │  ランクマッチ (5vs5)      │    │
│   └──────────────────────────┘    │
│                                    │
└────────────────────────────────────┘
```

### 2. ロビー/ルーム作成

```
┌─────────────────────────────────────────────┐
│  ルーム作成                                 │
├─────────────────────────────────────────────┤
│  ルーム名: [____________]                   │
│  モード: [カジュアル ▼]                     │
│  最大プレイヤー数: [10 ▼]                   │
│                                             │
│  ┌──────────────────┐                       │
│  │  ルームを作成    │                       │
│  └──────────────────┘                       │
│                                             │
│  または                                     │
│                                             │
│  ルームコード: [______]  [参加する]         │
└─────────────────────────────────────────────┘
```

### 3. キャラクター選択

```
┌─────────────────────────────────────────────┐
│  キャラクター選択 (1/5)                     │
├─────────────────────────────────────────────┤
│  キャラクター名: [____________]             │
│                                             │
│  ロール選択:                                │
│  ┌────────┐ ┌────────┐ ┌────────┐         │
│  │ Tank   │ │Fighter │ │Assassin│ ...     │
│  └────────┘ └────────┘ └────────┘         │
│  ┌────────┐ ┌────────┐ ┌────────┐         │
│  │  Mage  │ │Marksman│ │Support │         │
│  └────────┘ └────────┘ └────────┘         │
│                                             │
│  ダメージタイプ: [ AD  /  AP ]              │
│                                             │
│  レーン選択:                                │
│  [ TOP ] [ JG ] [ MID ] [ BOT ]             │
│                                             │
│  ─────────── ステータスプレビュー ─────────  │
│  HP: 400 | 攻撃力: 2.0 | 防御力: 1.0        │
│  移動力: 4 | ユーティリティ: 1.0            │
│                                             │
│  ┌──────────────────┐                       │
│  │  キャラを確定    │                       │
│  └──────────────────┘                       │
└─────────────────────────────────────────────┘
```

---

## インゲームUI

### ヘッダー情報
- **ゲームタイトル**: 左上
- **ラウンド数**: 中央
- **現在フェーズ**: 中央（宣言 / 解決）
- **タイマー**: 右（宣言フェーズのみ）
- **接続状態**: 右上（🟢接続中 / 🔴切断）

### サイドバー（オプション）
- **チームスコア**:
  - タワー破壊数
  - キル数
  - ゴールド合計
- **オブジェクト状態**:
  - ドラゴン: 次回出現まで 5ラウンド
  - バロン: 撃破可能
  - ヘラルド: 既に撃破済み

### 戦闘ログ
- **タイムスタンプ**: [ラウンド:秒]
- **イベントタイプ別の色分け**:
  - 🔴 キル/デス
  - 🟡 タワー破壊
  - 🟣 オブジェクト撃破
  - 🔵 アイテム購入
  - ⚪ システムメッセージ
- **フィルター**: キル/タワー/オブジェクトなど

### キャラクターカード（詳細版）
```
┌──────────────────────────┐
│ キャラ名 (YOU)  Lv 8     │
│ AD Marksman • BOT        │
├──────────────────────────┤
│ HP: ████████░░ 450/600   │
│ Gold: 850G               │
├──────────────────────────┤
│ ATK  DEF  MOB  UTL       │
│ 6.5  2.0  5.0  1.5       │
├──────────────────────────┤
│ バフ: 🔴赤バフ (3R)      │
├──────────────────────────┤
│ アイテム:                │
│ 🗡️ 🛡️ 👢              │
├──────────────────────────┤
│ スキル:                  │
│ ⚔️ ノーマル (Ready)     │
│ 💥 ウルト (CD: 2R)      │
└──────────────────────────┘
```

---

## UI実装の優先順位

### フェーズ1: 基本UI（MVP）
1. ✅ GameBoard（基本レイアウト）
2. ✅ CharacterCard（キャラ情報カード）
3. ✅ TowerStatus（タワー状態）
4. ✅ MapView（SVGマップ）
5. ⏳ ActionPanel（行動選択パネル）

### フェーズ2: ゲーム機能UI
6. ⏳ ItemShop（アイテムショップ）
7. ⏳ CombatLog（戦闘ログ）
8. ⏳ SkillPanel（スキル使用UI）

### フェーズ3: ゲーム前/後UI
9. ⏳ MainMenu（メインメニュー）
10. ⏳ Lobby（ロビー）
11. ⏳ CharacterSelection（キャラ選択）
12. ⏳ GameResult（リザルト画面）

---

## デザインシステム

### カラーパレット

```javascript
{
  // 背景
  bg: {
    primary: '#0a0e1a',    // 最も暗い背景
    secondary: '#1a1f2e',  // カード背景
    tertiary: '#2a2f3e',   // アクセント背景
  },

  // チームカラー
  team: {
    blue: '#3b82f6',
    blueLight: '#60a5fa',
    red: '#ef4444',
    redLight: '#f87171',
  },

  // ステータスカラー
  stats: {
    attack: '#ef4444',    // 赤
    defense: '#3b82f6',   // 青
    mobility: '#10b981',  // 緑
    utility: '#a855f7',   // 紫
  },

  // HP バー
  hp: {
    high: '#10b981',      // 緑（50%以上）
    medium: '#eab308',    // 黄（25-50%）
    low: '#ef4444',       // 赤（25%以下）
  },

  // UI要素
  ui: {
    gold: '#fbbf24',      // ゴールド
    selected: '#fbbf24',  // 選択中
    disabled: '#6b7280',  // 無効
    success: '#10b981',   // 成功
    warning: '#eab308',   // 警告
    danger: '#ef4444',    // 危険
  }
}
```

### タイポグラフィ
- **見出し**: 2xl～3xl, font-bold
- **サブ見出し**: lg～xl, font-semibold
- **本文**: base, font-normal
- **キャプション**: sm～xs, text-gray-400

### スペーシング
- 小: p-2, gap-2
- 中: p-4, gap-4
- 大: p-6, gap-6

---

## アニメーション

### トランジション
- **HPバー変化**: `transition-all duration-500`
- **ボタンホバー**: `hover:scale-105 transition-transform`
- **フェードイン**: `animate-fade-in`
- **スライドイン**: `animate-slide-in`

### マイクロインタラクション
- **行動確定**: ボタンが光る
- **ダメージ受ける**: HPバーが赤く点滅
- **レベルアップ**: 金色のエフェクト
- **タワー破壊**: 爆発エフェクト

---

## レスポンシブ対応（将来的）

デスクトップ専用のため、現在は実装しない。

---

## 更新履歴

- 2025-11-13: UI設計ドキュメント作成
  - 全体レイアウト定義
  - マップビュー詳細設計
  - 行動選択パネル設計
  - アイテムショップ設計
  - ゲーム前画面設計
  - デザインシステム定義
