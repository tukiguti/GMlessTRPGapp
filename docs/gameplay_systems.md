# GMレスLoL風TRPG - ゲームプレイシステム

## 目次
1. [ガンクシステム](#ガンクシステム)
2. [タワーシステム](#タワーシステム)
3. [オブジェクトシステム](#オブジェクトシステム)
4. [リソース管理](#リソース管理)

---

## ガンクシステム

### ガンクの流れ

#### 1. ガンク宣言

##### ロール別のガンク条件
- **JG（ジャングラー）**: 自由にガンク可能（移動力制限なし）
- **レーナー（TOP/MID/ADC/SUP）**: ロームガンクには**移動力6以上**が必要
  - 移動力が6未満の場合、ロームガンクは宣言できない
  - SUPは例外的に移動力制限なくガンク可能

##### 移動力によるガンクボーナス
- 移動力が6以上の場合、ガンク判定に+補正
- **計算式**: ガンクボーナス = 移動力 - 6
- **例**: 移動力8の場合 → ガンク判定に+2ボーナス

#### 2. 視界判定
- **視界なし**: ガンク成功、マッチアップ判定に**+3ボーナス**
- **視界あり**: 通常のマッチアップ判定

#### 3. CC（クラウドコントロール）判定と回避

##### CC判定
- ガンク側がCC持ちスキルを使用する場合
- **CC判定ダイス**: 1d20 + ユーティリティ
- **成功値**: 13以上でCC成功

##### CC回避判定
- CC判定が成功した場合、対象は回避判定が可能
- **回避判定ダイス**: 1d20 + 移動力
- **成功値**: 15以上で回避成功
- **回避失敗時**: 相手のマッチアップ判定に**-3ペナルティ（通常スキル）/-6ペナルティ（ULT）**
- **回避成功時**: CCペナルティを無効化

#### 4. マッチアップ判定
- 通常の戦闘と同様
- 視界ボーナス、CCペナルティを適用
- 複数人の場合は攻撃対象選択

### ガンク時の補正まとめ

| 状況 | 補正 |
|------|------|
| 視界なし（JG/SUP） | +3 |
| 移動力6以上 | +(移動力-6) |
| CC成功（通常スキル） | 相手に-3 |
| CC成功（ULT） | 相手に-6 |
| CC回避成功 | CCペナルティ無効化 |
| 数的有利（2v1） | +2 |

---

## タワーシステム

### タワーの基本仕様

#### タワーHP
各タワーには以下のHPが設定される：
- **アウタータワー**: 3000HP
- **インナータワー**: 4000HP
- **ネクサスタワー**: 5000HP
- **ネクサス**: 5500HP

#### タワーへのダメージ条件

タワーへのダメージは主に2つの方法で発生します：

**1. プレイヤーの直接攻撃**
- 行動選択で「攻撃」を選択し、タワーを対象に指定
- **ダメージ**: 2d20 + 攻撃力ステータス
- **条件**: タワーの射程内にいる必要がある
- **戦略**: 攻撃力が高いチャンピオンほど効果的

**2. ミニオンの攻撃**
- ミニオンは自動的にタワーを攻撃
- **ダメージ**: 1d6+5ダメージ/ターン
- **条件**: ミニオンがタワーの射程内にいる
- **戦略**: ミニオンウェーブを維持することで、持続的なダメージを与える

#### タワーダメージの最大化戦略

**効率的なプッシュ**
- プレイヤーとミニオンが同時にタワーを攻撃
- 1ターンあたりの総ダメージ: (2d20+攻撃力) + (1d6+5)
- 例: 攻撃力10のチャンピオン + ミニオン
  - プレイヤー: 2d20+10 = 平均約30ダメージ
  - ミニオン: 1d6+5 = 平均約8ダメージ
  - 合計: 約38ダメージ/ターン

**対面がいる場合の制約**
- 対面の敵プレイヤーがいる場合、マッチアップ判定が優先される
- タワーを攻撃するには、対面がいない状況が必要
- または、対面を倒してからタワーを攻撃

#### タワー破壊の順序制約
- **インナータワー攻撃条件**: そのレーンのアウタータワーが破壊済み
- **ネクサスタワー攻撃条件**: いずれかのレーンのインナータワーが破壊済み
- **ネクサス攻撃条件**: ネクサスタワーが破壊済み

### ミニオンシステム

#### ミニオンの基本仕様

**ミニオンのスポーン**
- **スポーン頻度**: **3ターンに1回**（ターン3, 6, 9, 12...）
- **スポーン位置**: 各レーン（TOP/MID/BOT）
- **ミニオン数**: 各レーンに1体ずつスポーン

**ミニオンのステータス**
- **HP**: **3**（タワーが3回攻撃で倒せる）
- **移動**: 自動的に敵タワーに向かって移動
- **攻撃対象**: タワーのみ（チャンピオンは攻撃しない）

**ミニオンのタワー攻撃**
- **攻撃力**: **1d6+5ダメージ/ターン**
- **攻撃タイミング**: マッチアップ判定と同じタイミング
- **条件**: ミニオンがタワーの射程内にいる場合のみ

#### ミニオンへの攻撃とラストヒット

**プレイヤーによるミニオン攻撃**
プレイヤーはミニオンを攻撃対象に選択できます：
- **攻撃方法**: 通常の攻撃アクションでミニオンを対象に選択
- **ダメージ**: 1ダメージ/回（ミニオンのHP残量を減らす）
- **効果**: タワーが倒すまでの攻撃回数を減らせる

**ラストヒット報酬**
ミニオンにとどめを刺したプレイヤーは以下の報酬を獲得：
- **ゴールド**: **+30G**
- **経験値**: **レベルアップまでのターン数を0.5ターン減少**

**例: ミニオンラストヒット**
- ミニオンHP: 3
- プレイヤーAが2回攻撃: ミニオンHP 3→1
- タワーが1回攻撃して撃破: プレイヤーAはラストヒット報酬なし
- OR プレイヤーAが3回目の攻撃: プレイヤーAがラストヒットを取得（+30G、-0.5ターン経験値）

#### ミニオンとタワーの相互作用

**ミニオンの役割**
1. **タワーへのダメージ源**: ミニオンがタワーに継続的にダメージを与える
2. **ラストヒット獲得機会**: プレイヤーがゴールドと経験値を得る手段
3. **タワー攻撃の制御**: プレイヤーがミニオンを攻撃することで、タワーの負担を軽減

**ミニオンウェーブ管理の重要性**
- 敵ミニオンを早く倒すことで、味方タワーへのダメージを軽減
- 味方ミニオンを温存することで、敵タワーに持続的なダメージを与える
- ラストヒットを狙うことで、ゴールドと経験値を効率的に獲得

### タワーの攻撃システム

#### タワーの攻撃性能
タワーは射程内のミニオンに対して自動攻撃を行います：

**基本性能**
- **攻撃力**: **1ダメージ/ターン**（ミニオンHP3を3回攻撃で倒せる）
- **攻撃速度**: **1ターンに1回攻撃**
- **射程**: タワーの周辺エリア（「タワー下」ポジション）
- **攻撃対象**: **ミニオンのみ**（チャンピオンは攻撃しない）

#### タワーのターゲット選択

タワーは以下のルールで攻撃対象を決定します：

**ミニオンが射程内にいる場合**
- 最もHPの低いミニオンを優先攻撃
- HP同じ場合は、最も近いミニオンを攻撃

**ミニオンが射程内にいない場合**
- タワーは攻撃しない（待機状態）

#### プレイヤーのタワー攻撃

**タワーへの直接攻撃**
プレイヤーはタワーを直接攻撃できます：

**攻撃条件**
- タワーの射程内にいる
- 行動選択で「攻撃」を選択し、タワーを対象に指定

**ダメージ計算**
- **ダイスロール**: **2d20**
- **ダメージ**: **2d20 + 攻撃力ステータス**
- **例**: 攻撃力10のチャンピオンがタワーを攻撃
  - ダイスロール: 2d20 = 15 + 8 = 23
  - 総ダメージ: 23 + 10 = **33ダメージ**

**戦略的考慮**
- 攻撃力が高いチャンピオンほど、タワーに大きなダメージを与えられる
- ミニオンウェーブがいる場合、ミニオンがタワーにダメージを与え続ける
- プレイヤーはラストヒットとタワー攻撃のバランスを取る必要がある

#### ミニオンウェーブとタワープッシュ

**効率的なタワー攻撃戦略**

1. **ミニオンウェーブの活用**
   - 自軍ミニオンがタワーを攻撃している間、プレイヤーも同時に攻撃
   - ミニオン: 1d6+5ダメージ/ターン
   - プレイヤー: 2d20+攻撃力ダメージ
   - 合計で大きなダメージを与えられる

2. **ラストヒットとのバランス**
   - ミニオンのラストヒットを取ることで、ゴールド+30G、経験値-0.5ターンを獲得
   - ただし、ラストヒットに集中しすぎるとタワーへのダメージが減る
   - 状況に応じて優先順位を決める

3. **タワー防衛**
   - 味方タワーに敵ミニオンが到達した場合、ミニオンを素早く倒す
   - タワーは自動的にミニオンを攻撃（1ダメージ/ターン）
   - プレイヤーが協力すれば、ミニオンを1-2ターンで倒せる

#### タワー攻撃の判定タイミング

**ターンエンド時の処理順序**:
1. プレイヤーの行動解決（マッチアップ判定、タワー攻撃など）
2. ミニオンの移動とタワー攻撃
3. タワーのミニオン攻撃
4. 位置・状態の更新

**例: タワープッシュのケース**
**ターン6**:
- ミニオンがTOPレーンにスポーン（HP3）
- プレイヤーAがファームを選択（ミニオンを攻撃せず）
- ミニオンが敵タワーに向かって移動

**ターン7**:
- ミニオンがタワー射程内に到達
- ミニオンがタワーを攻撃: 1d6+5 = 8ダメージ
- タワーがミニオンを攻撃: ミニオンHP 3→2
- プレイヤーAがタワーを攻撃: 2d20+10 = 35ダメージ
- タワー総ダメージ: 8+35 = **43ダメージ**

**ターン8**:
- ミニオンがタワーを攻撃: 1d6+5 = 7ダメージ
- タワーがミニオンを攻撃: ミニオンHP 2→1
- プレイヤーAがミニオンにラストヒット: ミニオン撃破（+30G、-0.5ターン経験値）
- タワー総ダメージ: 7ダメージ

---

## オブジェクトシステム

### オブジェクト種類

#### 1. ドラゴン
- **効果**: チーム全体にバフ付与
- **挑戦難易度**: 中
- **必要ターン**: 2ターン

#### 2. バロン
- **効果**: チーム全体に強力なバフ
- **挑戦難易度**: 高
- **必要ターン**: 3ターン
- **推奨人数**: 2人以上

#### 3. ヘラルド
- **効果**: レーンプッシュ支援
- **挑戦難易度**: 中
- **必要ターン**: 2ターン

### オブジェクト挑戦の流れ

#### 基本挑戦ルール
1. **宣言**: オブジェクト挑戦を宣言
2. **挑戦開始**: ターンカウントを開始（ドラゴン2ターン、バロン3ターン、ヘラルド2ターン）
3. **挑戦継続**: 必要ターン数が経過すると成功
4. **獲得**: 成功時、チームにバフ付与

#### 中断と妨害

**敵が接近した場合**:
1. **中断**: オブジェクト挑戦が中断される
2. **マッチアップ開始**: 接近した敵とマッチアップ判定が発生
3. **ターン数保持**: 挑戦ターン数は保持され、戦闘後も継続可能
4. **スティール**: 戦闘中に敵が残りターン数を消化すれば、敵がオブジェクトを獲得（スティール成功）

**例 - オブジェクトスティール**:

**ターン15**:
- プレイヤーA（味方JG）がドラゴン挑戦開始（必要2ターン）
- 挑戦ターン: 1/2

**ターン16**:
- プレイヤーB（敵JG）がドラゴンエリアに接近
- プレイヤーAのドラゴン挑戦が中断（挑戦ターン: 1/2を保持）
- マッチアップ判定が発生: プレイヤーA vs プレイヤーB

**ターン16の解決**:
- マッチアップ判定でプレイヤーBが勝利
- プレイヤーAはダメージを受ける
- プレイヤーBがドラゴン挑戦を開始（必要2ターン）

**ターン17**:
- プレイヤーBのドラゴン挑戦継続（挑戦ターン: 1/2）
- プレイヤーAは撤退または再度マッチアップ

**ターン18**:
- プレイヤーBのドラゴン挑戦成功（挑戦ターン: 2/2）
- 敵チームがドラゴンバフを獲得（スティール成功）

### 戦闘とオブジェクトの同時発生

**例**:
- TOPレーンで戦闘発生
- 同時にJGがドラゴン挑戦開始
- 両方を並行処理

---

## リソース管理

### ファームシステム

#### レーナーのファームとリソース獲得

レーナー（TOP/MID/ADC）は複数の方法でリソースを獲得できます：

**1. ファーム選択（安全なゴールド獲得）**
- **ゴールド獲得**: 100G
- **マッチアップ判定**: 不参加（安全にゴールド獲得）
- **用途**: 安定したゴールド獲得
- **注意**: タワーへの直接ダメージはなし（代わりにミニオンがタワーを攻撃）

**2. 攻撃選択（戦闘とリソース獲得）**
- **ゴールド獲得**: 50G（ファームより少ない）
- **マッチアップ判定**: 開始（敵との戦闘）
- **攻撃対象**: 敵チャンピオン、ミニオン、またはタワー
- **用途**:
  - 敵プレイヤーを倒してアドバンテージを得る
  - ミニオンのラストヒットを取る（+30G、-0.5ターン経験値）
  - タワーを攻撃する（2d20+攻撃力ダメージ）

**3. ミニオンラストヒット（追加報酬）**
- **条件**: ミニオンにとどめを刺す
- **報酬**:
  - ゴールド: +30G（攻撃選択の50Gに追加）
  - 経験値: レベルアップまでのターン数を0.5ターン減少
- **合計**: 攻撃選択(50G) + ラストヒット(30G) = 80G + 経験値ボーナス

#### ゴールド獲得方法の比較

| 行動 | ゴールド | 経験値 | リスク | 備考 |
|------|---------|--------|--------|------|
| **ファーム選択** | 100G | 通常 | 低 | 安全だがタワーへの直接ダメージなし |
| **攻撃選択のみ** | 50G | 通常 | 中～高 | マッチアップ判定が発生 |
| **攻撃+ラストヒット** | 80G | +ボーナス | 中～高 | 最も効率的だがタイミングが重要 |
| **攻撃+タワー攻撃** | 50G | 通常 | 低～中 | 対面がいない場合に有効 |

#### JGのバフファーム
- **選択肢**（ジャングルエリア別）:
  - **味方TOP-MIDジャングル**（赤バフまたは青バフ）
  - **味方MID-BOTジャングル**（赤バフまたは青バフ）
  - **敵TOP-MIDジャングル**（赤バフまたは青バフ）
  - **敵MID-BOTジャングル**（赤バフまたは青バフ）

- **報酬**:
  - **ゴールド獲得**: 80G
  - **バフ効果**: 赤バフまたは青バフを獲得（9ターン持続）

- **ファーム時の位置選択**:
  - JGはどのジャングルエリアでファームするか選択可能
  - 各ジャングルエリアには赤バフまたは青バフが配置されている

- **視界との関係**:
  - 視界がないエリアでファームすることで、敵に位置を悟られない
  - 敵陣バフを狩る「カウンタージャングル」が可能
  - 例：敵MID-BOTジャングルでファームしている場合、敵が視界を持っていなければ位置バレしない

#### バフ効果

**赤バフ（攻撃力強化）**:
- **攻撃力**: +2.0
- **スロー効果**: 攻撃した敵の移動力-2
- **持続時間**: 9ターン
- **用途**: ガンク時の火力向上、敵の逃走妨害

**青バフ（ユーティリティ強化）**:
- **ユーティリティ**: +2.0（CC判定の成功率向上）
- **クールダウン短縮**: スキルのクールダウン-1ターン
- **持続時間**: 9ターン
- **用途**: スキル回転率の向上、CC判定の成功率向上

### ゴールド・経験値
- **獲得方法**:
  - ファーム成功
  - 戦闘勝利
  - オブジェクト獲得
  - 敵撃破
- **使用用途**:
  - アイテム購入
  - レベルアップ
  - ステータス強化

---

---

## リコールシステム

### リコール概要

リコールは自陣ネクサスに帰還するための行動です。
成功すると以下のメリットがあります：
- HP全回復
- アイテム購入・合成
- 装備の整理

### リコール開始条件

プレイヤーは以下の条件を満たせばリコールを開始できます：

1. **現在位置**: どのエリアからでも開始可能
2. **行動選択**: ターン開始時の行動選択で「リコール」を選択
3. **制約**: 戦闘中は開始不可

### リコール所要時間

**基本リコール時間**: 1ターン

**重要**: リコールは1ターンで完了します。

### リコール実行の流れ

#### ステップ1: リコール宣言
- ターン開始時、行動選択で「リコール」を選択
- リコール開始を宣言

#### ステップ2: リコール判定
リコール中に以下の中断条件が発生していないか確認：

**中断条件**:
1. **敵からのダメージ**: 敵プレイヤーからダメージを受けた
2. **敵の接近**: 敵プレイヤーが同じエリアに進入した
3. **CC効果**: 敵のCCスキルを受けた（回避失敗時）

**中断判定のタイミング**:
- リコール宣言後、ターン解決フェーズで判定
- 敵がガンクやローミングで接近した場合、リコール中断

#### ステップ3: リコール成功
中断されなかった場合、リコール成功：
1. **位置移動**: 自陣ネクサスに移動
2. **HP回復**: HPが最大値まで回復
3. **ショップアクセス**: アイテム購入・合成が可能

#### ステップ4: ショップでの購入
リコール成功後、即座に以下の行動が可能：
- アイテム購入
- アイテム合成
- アイテム売却（購入価格の70%）

### リコール失敗時のペナルティ

中断された場合：
- **位置**: その場に留まる（移動なし）
- **HP**: 回復なし
- **ターン消費**: 1ターン消費（行動できない）
- **危険**: 敵に襲われる可能性が高い

### リコールの戦略的使用

#### 安全なリコールタイミング
1. **対面不在時**: 敵が他レーンにローム中
2. **視界確保時**: ワードで敵の位置を確認済み
3. **タワー下**: 比較的安全（敵がタワーダイブしない限り）
4. **ウェーブクリア後**: ミニオンウェーブを処理した直後

#### 危険なリコールタイミング
1. **敵の位置不明**: 視界がなく、敵がどこにいるか分からない
2. **ウェーブが押し寄せている**: ミニオンウェーブがタワーに到達する
3. **オブジェクト戦前**: ドラゴンやバロン戦が始まりそうな時

### リコールとゲームフロー

#### レーニングフェーズ（序盤）
- ゴールドが貯まったらリコールしてアイテム購入
- HPが減ったらリコールして回復
- 敵のリコールタイミングを狙ってタワーにダメージ

#### ミッドゲーム（中盤）
- オブジェクト戦前に装備を整える
- チーム戦前にHP回復
- 素早くリコールして戦線復帰

#### レイトゲーム（終盤）
- デス後のリスポーンと組み合わせて装備更新
- 長時間の戦闘後にHP回復
- 最終プッシュ前の準備

### リコールの例

#### 例1: 安全なリコール成功

**状況**: レベル5のADマークスマン、BOTレーンでファーム中、ゴールド1500G所持

**ターン10**:
1. **敵の位置確認**: ワードで敵JGがTOPレーン側にいることを確認
2. **リコール宣言**: BOTレーンでリコール開始
3. **ターン解決**: 敵の接近なし、ダメージなし
4. **リコール成功**: 自陣ネクサスに到着、HP全回復
5. **ショップ**: インフィニティエッジを購入（1450G）

#### 例2: リコール中断

**状況**: レベル7のAPメイジ、MIDレーンでリコール開始

**ターン15**:
1. **リコール宣言**: MIDレーンでリコール開始
2. **敵のガンク**: 敵JGがMIDレーンにガンク
3. **リコール中断**: 敵の接近により中断
4. **戦闘発生**: 敵JGとマッチアップ判定
5. **結果**: リコール失敗、1ターン消費、戦闘でダメージを受けた

---

## 今後の詳細化が必要な項目

### 1. タワーシステム（詳細）
- タワーのHP・防御力 → 完了（gameplay_systems.mdに記載済み）
- タワー攻撃の仕組み（攻撃力、ターゲット優先度）
- プッシュ（ミニオンウェーブ）との連携

### 2. 時間管理
- 1ターンの時間概念
- ゲーム全体の制限時間
- レイトゲームへの移行

### 3. マッチアップ判定の詳細
- 各ロールの基本補正値 → 完了（character_system.mdに記載済み）
- 時間経過による変化（序盤/中盤/終盤）
- チャンピオン相性

---

## 変更履歴
- 2025-11-10: ミニオンシステムとタワー攻撃メカニクスの大幅改修
  - タワーの攻撃対象をミニオンのみに変更（チャンピオンは攻撃されない）
  - ミニオンシステムの実装:
    - スポーン頻度: 3ターンに1回（ターン3, 6, 9, 12...）
    - ミニオンHP: 3（タワーが3回攻撃で倒せる）
    - ミニオンのタワー攻撃力: 1d6+5ダメージ/ターン
    - タワーのミニオン攻撃力: 1ダメージ/ターン
  - ラストヒットシステムの実装:
    - 報酬: +30G、レベルアップまでのターン数-0.5ターン
    - プレイヤーがミニオンを攻撃可能（1ダメージ/回）
  - プレイヤーのタワーダメージをダイスベースに変更:
    - 固定200ダメージ/ターン → 2d20+攻撃力（スケーリング）
  - ファームシステムの更新:
    - ファーム選択時のタワーダメージを削除
    - ミニオンラストヒットによるリソース獲得を追加
    - ゴールド獲得方法の比較表を追加
  - タワープッシュの戦略的要素を強化（ミニオンウェーブ管理の重要性）
- 2025-11-09: ゲームシステム大規模調整
  - 移動力ボーナス閾値を5→6に変更（ガンクボーナス計算式変更）
  - CC効果を-5から-3（通常スキル）/-6（ULT）に変更
  - リコール時間を8秒から1ターンに変更
  - タワーダメージシステムを変更：対面がいる場合はタワーダメージなし
  - オブジェクトシステムに中断・スティール機能を追加
    - 敵接近時にマッチアップ開始
    - 挑戦ターン数を保持してスティール可能
- 2025-11-09: リコールシステムの詳細を追加
  - リコール時間、中断条件、ショップ購入、戦略的使用方法を定義
- 2025-11-07: 初版作成（game_rules.mdから分割）
  - ガンクシステム、タワーシステム、オブジェクトシステム、リソース管理を統合
